<div class="auth-container">
    <h2>{{ isLoginMode ? 'Login' : 'Registrar' }}</h2>

    @if (errorMessage) {
        <div class="message-box" [class.error]="errorMessage.includes('Falha')" [class.success]="!errorMessage.includes('Falha')">
            {{ errorMessage }}
        </div>
    }

    @if (isLoginMode) {
        <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
            <label for="loginEmail">Email:</label>
            <input 
                type="email" 
                id="loginEmail" 
                name="loginEmail" 
                [(ngModel)]="loginData.email" 
                required>

            <label for="loginPassword">Senha:</label>
            <input 
                type="password" 
                id="loginPassword" 
                name="loginPassword" 
                [(ngModel)]="loginData.password" 
                required>

            <button type="submit" [disabled]="!loginForm.valid">Entrar</button>
        </form>
    } 
    @else {
        <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
            <label for="registerEmail">Email:</label>
            <input 
                type="email" 
                id="registerEmail" 
                name="registerEmail" 
                [(ngModel)]="registerData.email" 
                required>

            <label for="registerPassword">Senha:</label>
            <input 
                type="password" 
                id="registerPassword" 
                name="registerPassword" 
                [(ngModel)]="registerData.password" 
                required>

            <label for="confirmPassword">Confirmar Senha:</label>
            <input 
                type="password" 
                id="confirmPassword" 
                name="confirmPassword" 
                [(ngModel)]="registerData.confirmPassword" 
                required>

            <button type="submit" [disabled]="!registerForm.valid">Registrar</button>
        </form>
    }

    <hr>

<p>
    {{ isLoginMode ? 'Não tem conta?' : 'Já tem conta?' }}
    <a (click)="toggleMode()">{{ isLoginMode ? 'Crie uma agora' : 'Faça login' }}</a>
</p>
</div>